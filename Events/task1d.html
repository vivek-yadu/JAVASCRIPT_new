<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    Payment Option <br>
    <div id="payment"></div>
    <script>
        const paymentOptions = [{
            "type": "Credit Card",
            "Providers": ["ICICI Bank", "Bank", "HDFC Bank", "Citibank", "SBI", "Amex"]
        }, {
            "type": "Net Banking",
            "providers": ["SBI", "BOI", "HDFC Bank", "Axis Bank", "Kotak Bank"]
        }, {
            "type": "Wallet",
            "providers": ["Paytm", "Google Pay", "Phone Pe", "Amazon pay"]
        }];


        showPaymentOption();

        function showPaymentOption() {
            const arr1 = paymentOptions.map((ele) => {
                return ele.type;
            })
            let dd1 = makeDD("dd1", arr1, '', 'Select Payment Method', 'payChange');
            let div1 = document.getElementById("payment")
            div1.innerHTML = dd1
        }



        function payChange(elem) {
            let selOpt = elem.value
            const arr1 = paymentOptions.map((ele) => {
                return ele.type;
            })


            let dd1 = makeDD("dd1", arr1, selOpt, 'Select Payment Method', 'payChange');

            let json1 = paymentOptions.find((p1) => {
                return p1.type == selOpt
            })


            let dd2 = makeDD("dd2", json1.providers, '', 'Select', '');
            let div1 = document.getElementById("payment")
            div1.innerHTML = dd1 + dd2;
        }




        function makeDD(id, data, selectedVal, valOnTop, onchangeFn) {
            let dataMap = data.map((opt) => {
                if (opt == selectedVal)
                    return '<option selected >' + opt + '</option>'
                else
                    return '<option>' + opt + '</option>'

            });

            let first = '<option value = \'\' selected  disabled  >' + valOnTop + '</option>'
            let ddHtml = '<select id = \'' + id + '\'>';
            if (onchangeFn != '')
                ddHtml = '<select id = \'' + id + '\' onchange = \'' + onchangeFn + '(this)\'>';

            ddHtml += first + dataMap.join('') + '</select>';
            return ddHtml
        }
    </script>

</body>

</html>